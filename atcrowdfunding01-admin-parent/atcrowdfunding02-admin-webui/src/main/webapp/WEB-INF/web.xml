<?xml version="1.0" encoding="UTF-8"?>
<web-app xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xmlns="http://java.sun.com/xml/ns/javaee"
         xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd"
         version="2.5">

    <!-- needed for ContextLoaderListener -->
    <context-param>
        <param-name>contextConfigLocation</param-name>
        <param-value>classpath:spring-persist-*.xml</param-value>
    </context-param>

    <!-- Bootstraps the root web application context before servlet initialization -->
    <listener>
        <listener-class>org.springframework.web.context.ContextLoaderListener</listener-class>
    </listener>

    <filter>
        <filter-name>CharacterEncodingFilter</filter-name>
        <filter-class>org.springframework.web.filter.CharacterEncodingFilter</filter-class>
        <!-- æŒ‡å®šå­—ç¬¦é›† -->
        <init-param>
            <param-name>encoding</param-name>
            <param-value>UTF-8</param-value>
        </init-param>
        <!-- å¼ºåˆ¶è¯·æ±‚è®¾ç½®å­—ç¬¦é›† -->
        <init-param>
            <param-name>forceRequestEncoding</param-name>
            <param-value>true</param-value>
        </init-param>
        <!-- å¼ºåˆ¶å“åº”è®¾ç½®å­—ç¬¦é›† -->
        <init-param>
            <param-name>forceResponseEncoding</param-name>
            <param-value>true</param-value>
        </init-param>
    </filter>

    <!-- è¿™ä¸ªFilteræ‰§è¡Œçš„é¡ºåºè¦åœ¨æ‰€æœ‰å…¶ä»–Filterå‰é¢ -->
    <!-- åŽŸå› å¦‚ä¸‹ï¼š -->
    <!-- request.setCharacterEncoding(encoding)å¿…é¡»åœ¨request.getParameter()å‰é¢ -->
    <!-- response.setCharacterEncoding(encoding)å¿…é¡»åœ¨response.getWriter()å‰é¢ -->
    <filter-mapping>
        <filter-name>CharacterEncodingFilter</filter-name>
        <url-pattern>/*</url-pattern>
    </filter-mapping>

    <!-- The front controller of this Spring Web application, responsible for handling all application requests -->
    <servlet>
        <servlet-name>springDispatcherServlet</servlet-name>
        <servlet-class>org.springframework.web.servlet.DispatcherServlet</servlet-class>
        <init-param>
            <param-name>contextConfigLocation</param-name>
            <param-value>classpath:spring-web-mvc.xml</param-value>
        </init-param>
        <!-- Servleté»˜è®¤ç”Ÿå‘½å‘¨æœŸä¸­ï¼Œåˆ›å»ºå¯¹è±¡æ˜¯åœ¨ç¬¬ä¸€æ¬¡æŽ¥æ”¶åˆ°è¯·æ±‚æ—¶ -->
        <!-- è€ŒDispatcherServletåˆ›å»ºå¯¹è±¡åŽæœ‰å¤§é‡çš„â€œæ¡†æž¶åˆå§‹åŒ–â€å·¥ä½œï¼Œä¸é€‚åˆåœ¨ç¬¬ä¸€æ¬¡è¯·æ±‚æ—¶æ¥åš -->
        <!-- è®¾ç½®load-on-startupå°±æ˜¯ä¸ºäº†è®©DispatcherServletåœ¨Webåº”ç”¨å¯åŠ¨æ—¶åˆ›å»ºå¯¹è±¡ã€åˆå§‹åŒ– -->
        <load-on-startup>1</load-on-startup>
    </servlet>

    <!-- Map all requests to the DispatcherServlet for handling -->
    <servlet-mapping>
        <servlet-name>springDispatcherServlet</servlet-name>
        <!-- url-patterné…ç½®æ–¹å¼ä¸€ï¼š/è¡¨ç¤ºæ‹¦æˆªæ‰€æœ‰è¯·æ±‚ -->
        <!-- <url-pattern>/</url-pattern> -->

        <!-- url-patterné…ç½®æ–¹å¼äºŒï¼šé…ç½®è¯·æ±‚æ‰©å±•å -->
        <!-- ä¼˜ç‚¹1ï¼šxxx.cssã€xxx.jsã€xxx.pngç­‰ç­‰é™æ€èµ„æºå®Œå…¨ä¸ç»è¿‡SpringMVCï¼Œä¸éœ€è¦ç‰¹æ®Šå¤„ç† -->
        <!-- ä¼˜ç‚¹2ï¼šå¯ä»¥å®žçŽ°ä¼ªé™æ€æ•ˆæžœã€‚è¡¨é¢ä¸Šçœ‹èµ·æ¥æ˜¯è®¿é—®ä¸€ä¸ªHTMLæ–‡ä»¶è¿™æ ·çš„é™æ€èµ„æºï¼Œä½†æ˜¯å®žé™…ä¸Šæ˜¯ç»è¿‡Javaä»£ç è¿ç®—çš„ç»“æžœã€‚ -->
        <!-- 	ä¼ªé™æ€ä½œç”¨1ï¼šç»™é»‘å®¢å…¥ä¾µå¢žåŠ éš¾åº¦ã€‚ -->
        <!-- 	ä¼ªé™æ€ä½œç”¨2ï¼šæœ‰åˆ©äºŽSEOä¼˜åŒ–ï¼ˆè®©ç™¾åº¦ã€è°·æ­Œè¿™æ ·çš„æœç´¢å¼•æ“Žæ›´å®¹æ˜“æ‰¾åˆ°æˆ‘ä»¬é¡¹ç›®ï¼‰ã€‚ -->
        <!-- ç¼ºç‚¹ï¼šä¸ç¬¦åˆRESTFulé£Žæ ¼ -->
        <url-pattern>*.html</url-pattern>

        <!-- ä¸ºä»€ä¹ˆè¦å¦å¤–å†é…ç½®jsonæ‰©å±•åå‘¢ï¼Ÿ -->
        <!-- å¦‚æžœä¸€ä¸ªAjaxè¯·æ±‚æ‰©å±•åæ˜¯htmlï¼Œä½†æ˜¯å®žé™…æœåŠ¡å™¨ç»™æµè§ˆå™¨è¿”å›žçš„æ˜¯jsonæ•°æ®ï¼ŒäºŒè€…å°±ä¸åŒ¹é…äº†ï¼Œä¼šå‡ºçŽ°406é”™è¯¯ã€‚ -->
        <!-- ä¸ºäº†è®©Ajaxè¯·æ±‚èƒ½å¤Ÿé¡ºåˆ©æ‹¿åˆ°JSONæ ¼å¼çš„å“åº”æ•°æ®ï¼Œæˆ‘ä»¬å¦å¤–é…ç½®jsonæ‰©å±•å -->
        <url-pattern>*.json</url-pattern>
    </servlet-mapping>

    <!-- Spring Securityé…ç½®ï¼Œæ³¨æ„ï¼Œåå­—ä»€ä¹ˆçš„éƒ½ä¸è¦æ¢ -->
    <!-- å› ä¸ºä½¿ç”¨äº†ä¸¤ä¸ªiocå®¹å™¨(ContextLoaderListenerå’ŒDispatcherServlet)åˆ†åˆ«åŠ è½½ä¸åŒçš„beanï¼Œé»˜è®¤çš„åˆå§‹åŒ–é¡ºåºæ˜¯ -->
    <!-- ContextLoaderListenerã€DelegatingFilterProxyã€DispatcherServlet-->
    <!-- è€Œè‡ªå®šä¹‰çš„æ‹¦æˆªå™¨beançš„é…ç½®ç±»æ˜¯ä½¿ç”¨DispatcherServletåŠ è½½çš„ï¼Œæ‰€ä»¥DelegatingFilterProxyæ‰¾ä¸åˆ°å¯¹åº”çš„é…ç½®ç±»ï¼Œtomcatä¼šæ— æ³•å¯åŠ¨-->
    <!-- è§£å†³æ–¹æ³•æ˜¯æ”¹DelegatingFilterProxyçš„æºðŸŽï¼ˆé‡æ–°å»ºåŒ…ï¼‰,ä¿®æ”¹doFilteræ–¹æ³•ä»¥åŠinitFilterBeanæ–¹æ³•,å…¶å®žå¥½åƒä¹Ÿæ²¡æœ‰ä»€ä¹ˆåµç”¨-->
    <!-- æœ€ç»ˆè§£å†³åŠžæ³•è¿˜æ˜¯ä½¿ç”¨ContextLoaderListeneræ‰«æè‡ªå®šä¹‰çš„æ‹¦æˆªå™¨beanï¼Œä¹Ÿå°±æ˜¯WebAppSecurityConfig-->
    <filter>
        <filter-name>springSecurityFilterChain</filter-name>
        <filter-class>org.springframework.web.filter.DelegatingFilterProxy</filter-class>
    </filter>
    <filter-mapping>
        <filter-name>springSecurityFilterChain</filter-name>
        <url-pattern>/*</url-pattern>
    </filter-mapping>

<!--    <welcome-file-list>-->
<!--        <welcome-file>admin-main.jsp</welcome-file>-->
<!--    </welcome-file-list>-->

</web-app>
